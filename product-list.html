<!DOCTYPE html>
<html lang="en" data-theme="light">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Products - Modern Inventory Shop</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Theme Toggle -->
    <button class="theme-toggle" id="themeToggle" aria-label="Toggle theme">
        <svg class="sun-icon" viewBox="0 0 24 24">
            <path d="M12 17.5C9.5 17.5 7.5 15.5 7.5 13S9.5 8.5 12 8.5 16.5 10.5 16.5 13 14.5 17.5 12 17.5M12 7C8.7 7 6 9.7 6 13S8.7 19 12 19 18 16.3 18 13 15.3 7 12 7M12 2L14.4 6.4L19 5.7L16.2 9.8L18.6 14L14 12.7L9.4 14L11.8 9.8L9 5.7L13.6 6.4L12 2Z"/>
        </svg>
        <svg class="moon-icon" style="display: none;" viewBox="0 0 24 24">
            <path d="M17.75,4.09L15.22,6.03L16.13,9.09L13.5,7.28L10.87,9.09L11.78,6.03L9.25,4.09L12.44,4L13.5,1L14.56,4L17.75,4.09M21.25,11L19.61,12.25L20.2,14.23L18.5,13.06L16.8,14.23L17.39,12.25L15.75,11L17.81,10.95L18.5,9L19.19,10.95L21.25,11M18.97,15.95C19.8,15.87 20.69,17.05 20.16,17.8C19.84,18.25 19.5,18.67 19.08,19.07C15.17,23 8.84,23 4.94,19.07C1.03,15.17 1.03,8.83 4.94,4.93C5.34,4.53 5.76,4.17 6.21,3.85C6.96,3.32 8.14,4.21 8.06,5.04C7.79,7.9 8.75,10.87 10.95,13.06C13.14,15.26 16.1,16.22 18.97,15.95M17.33,17.97C14.5,17.81 11.7,16.64 9.53,14.5C7.36,12.31 6.2,9.5 6.04,6.68C3.23,9.82 3.34,14.64 6.35,17.66C9.37,20.67 14.19,20.78 17.33,17.97Z"/>
        </svg>
    </button>

    <!-- Header -->
    <header>
        <nav>
            <div class="logo">âœ¨ Modern Inventory</div>
            <ul class="nav-links">
                <li><a href="index.html">Home</a></li>
                <li><a href="product-list.html">Products</a></li>
                <li><a href="cart.html">Cart (<span id="cartCount">0</span>)</a></li>
                <li><a href="admin-login.html">Admin</a></li>
            </ul>
        </nav>
    </header>

    <!-- Main Content -->
    <main>
        <!-- Page Header -->
        <section class="page-header">
            <div class="glass-card p-4 text-center">
                <h1>Our Products</h1>
                <p>Discover our amazing collection of premium items</p>
            </div>
        </section>

        <!-- Search and Filter -->
        <section class="search-filter-container">
            <div class="search-bar">
                <input type="text" id="searchInput" placeholder="Search products..." />
            </div>
            <select class="filter-select" id="categoryFilter">
                <option value="">All Categories</option>
                <option value="Electronics">Electronics</option>
                <option value="Clothing">Clothing</option>
                <option value="Books">Books</option>
                <option value="Home">Home & Garden</option>
                <option value="Sports">Sports</option>
                <option value="Toys">Toys</option>
            </select>
            <select class="filter-select" id="sortFilter">
                <option value="name">Sort by Name</option>
                <option value="price-low">Price: Low to High</option>
                <option value="price-high">Price: High to Low</option>
                <option value="quantity">Quantity Available</option>
            </select>
        </section>

        <!-- Products Grid -->
        <section class="products-section">
            <div id="productGrid" class="product-grid">
                <!-- Products will be dynamically loaded here -->
            </div>
            
            <!-- Loading Spinner -->
            <div id="loadingSpinner" class="spinner" style="display: none;"></div>
            
            <!-- No Results Message -->
            <div id="noResults" class="glass-card p-4 text-center" style="display: none;">
                <h3>No products found</h3>
                <p>Try adjusting your search or filter criteria</p>
            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer class="glass-card mt-4 p-4 text-center">
        <p>&copy; 2025 Modern Inventory. All rights reserved.</p>
    </footer>

    <!-- Toast Container -->
    <div id="toastContainer"></div>

    <script src="script.js"></script>
    <script>
        // Sample product data
        const sampleProducts = [
            {
                id: 1,
                name: "Wireless Headphones Pro",
                category: "Electronics",
                price: 299.99,
                quantity: 15,
                image: "https://picsum.photos/seed/headphones/400/300"
            },
            {
                id: 2,
                name: "Smart Watch Ultra",
                category: "Electronics",
                price: 449.99,
                quantity: 8,
                image: "https://picsum.photos/seed/smartwatch/400/300"
            },
            {
                id: 3,
                name: "Premium Leather Jacket",
                category: "Clothing",
                price: 599.99,
                quantity: 12,
                image: "https://picsum.photos/seed/jacket/400/300"
            },
            {
                id: 4,
                name: "JavaScript: The Complete Guide",
                category: "Books",
                price: 49.99,
                quantity: 25,
                image: "https://picsum.photos/seed/jsbook/400/300"
            },
            {
                id: 5,
                name: "Smart Home Hub",
                category: "Electronics",
                price: 199.99,
                quantity: 20,
                image: "https://picsum.photos/seed/smarthome/400/300"
            },
            {
                id: 6,
                name: "Yoga Mat Premium",
                category: "Sports",
                price: 79.99,
                quantity: 30,
                image: "https://picsum.photos/seed/yogamat/400/300"
            },
            {
                id: 7,
                name: "Ceramic Plant Pot Set",
                category: "Home",
                price: 39.99,
                quantity: 18,
                image: "https://picsum.photos/seed/plantpot/400/300"
            },
            {
                id: 8,
                name: "Building Blocks Deluxe",
                category: "Toys",
                price: 89.99,
                quantity: 22,
                image: "https://picsum.photos/seed/blocks/400/300"
            },
            {
                id: 9,
                name: "Running Shoes Pro",
                category: "Sports",
                price: 159.99,
                quantity: 14,
                image: "https://picsum.photos/seed/shoes/400/300"
            },
            {
                id: 10,
                name: "Designer Sunglasses",
                category: "Clothing",
                price: 249.99,
                quantity: 10,
                image: "https://picsum.photos/seed/sunglasses/400/300"
            },
            {
                id: 11,
                name: "Coffee Maker Deluxe",
                category: "Home",
                price: 129.99,
                quantity: 16,
                image: "https://picsum.photos/seed/coffee/400/300"
            },
            {
                id: 12,
                name: "Tablet Pro 12\"",
                category: "Electronics",
                price: 899.99,
                quantity: 6,
                image: "https://picsum.photos/seed/tablet/400/300"
            }
        ];

        let products = [];
        let filteredProducts = [];

        // Initialize the page
        document.addEventListener('DOMContentLoaded', function() {
            loadProducts();
            setupEventListeners();
            updateCartCount();
        });

        // Load products from localStorage or use sample data
        function loadProducts() {
            const storedProducts = localStorage.getItem('products');
            if (storedProducts) {
                products = JSON.parse(storedProducts);
            } else {
                products = sampleProducts;
                localStorage.setItem('products', JSON.stringify(products));
            }
            filteredProducts = [...products];
            renderProducts();
        }

        // Setup event listeners
        function setupEventListeners() {
            document.getElementById('searchInput').addEventListener('input', filterProducts);
            document.getElementById('categoryFilter').addEventListener('change', filterProducts);
            document.getElementById('sortFilter').addEventListener('change', sortProducts);
        }

        // Filter products based on search and category
        function filterProducts() {
            const searchTerm = document.getElementById('searchInput').value.toLowerCase();
            const category = document.getElementById('categoryFilter').value;

            filteredProducts = products.filter(product => {
                const matchesSearch = product.name.toLowerCase().includes(searchTerm) ||
                                    product.category.toLowerCase().includes(searchTerm);
                const matchesCategory = !category || product.category === category;
                return matchesSearch && matchesCategory;
            });

            sortProducts();
        }

        // Sort products
        function sortProducts() {
            const sortBy = document.getElementById('sortFilter').value;

            switch(sortBy) {
                case 'name':
                    filteredProducts.sort((a, b) => a.name.localeCompare(b.name));
                    break;
                case 'price-low':
                    filteredProducts.sort((a, b) => a.price - b.price);
                    break;
                case 'price-high':
                    filteredProducts.sort((a, b) => b.price - a.price);
                    break;
                case 'quantity':
                    filteredProducts.sort((a, b) => b.quantity - a.quantity);
                    break;
            }

            renderProducts();
        }

        // Render products to the grid
        function renderProducts() {
            const productGrid = document.getElementById('productGrid');
            const noResults = document.getElementById('noResults');

            if (filteredProducts.length === 0) {
                productGrid.innerHTML = '';
                noResults.style.display = 'block';
                return;
            }

            noResults.style.display = 'none';
            productGrid.innerHTML = filteredProducts.map(product => `
                <div class="product-card fade-in">
                    <img src="${product.image}" alt="${product.name}" class="product-image" />
                    <div class="product-info">
                        <h3 class="product-name">${product.name}</h3>
                        <span class="product-category">${product.category}</span>
                        <div class="product-price">$${product.price.toFixed(2)}</div>
                        <div class="product-quantity">Stock: ${product.quantity} units</div>
                        <button class="btn btn-primary" onclick="addToCart(${product.id})" 
                                ${product.quantity === 0 ? 'disabled' : ''}>
                            ${product.quantity === 0 ? 'Out of Stock' : 'Add to Cart'}
                        </button>
                    </div>
                </div>
            `).join('');

            // Add animation to newly rendered products
            setTimeout(() => {
                document.querySelectorAll('.product-card').forEach((card, index) => {
                    setTimeout(() => {
                        card.style.opacity = '1';
                        card.style.transform = 'translateY(0)';
                    }, index * 50);
                });
            }, 100);
        }

        // Add product to cart
        function addToCart(productId) {
            const product = products.find(p => p.id === productId);
            if (!product || product.quantity === 0) return;

            let cart = JSON.parse(localStorage.getItem('cart')) || [];
            const existingItem = cart.find(item => item.id === productId);

            if (existingItem) {
                if (existingItem.quantity < product.quantity) {
                    existingItem.quantity++;
                    showToast(`${product.name} quantity updated in cart`, 'success');
                } else {
                    showToast('Maximum available quantity reached', 'warning');
                    return;
                }
            } else {
                cart.push({
                    id: product.id,
                    name: product.name,
                    price: product.price,
                    image: product.image,
                    quantity: 1
                });
                showToast(`${product.name} added to cart`, 'success');
            }

            localStorage.setItem('cart', JSON.stringify(cart));
            updateCartCount();

            // Add a nice animation to the button
            event.target.style.transform = 'scale(0.95)';
            setTimeout(() => {
                event.target.style.transform = 'scale(1)';
            }, 200);
        }

        // Update cart count in navigation
        function updateCartCount() {
            const cart = JSON.parse(localStorage.getItem('cart')) || [];
            const totalItems = cart.reduce((sum, item) => sum + item.quantity, 0);
            document.getElementById('cartCount').textContent = totalItems;
        }

        // Show toast notification
        function showToast(message, type = 'success') {
            const toastContainer = document.getElementById('toastContainer');
            const toast = document.createElement('div');
            toast.className = `toast ${type}`;
            toast.textContent = message;
            
            toastContainer.appendChild(toast);
            
            setTimeout(() => {
                toast.classList.add('show');
            }, 100);
            
            setTimeout(() => {
                toast.classList.remove('show');
                setTimeout(() => {
                    toast.remove();
                }, 300);
            }, 3000);
        }
    </script>

    <style>
        .page-header {
            margin-bottom: 2rem;
        }

        .page-header h1 {
            font-size: 2.5rem;
            font-weight: 700;
            background: linear-gradient(135deg, #667eea 0%, #f093fb 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 0.5rem;
        }

        .product-card {
            opacity: 0;
            transform: translateY(20px);
            transition: all 0.5s ease;
        }

        .product-card button:disabled {
            background: var(--glass-bg);
            cursor: not-allowed;
            opacity: 0.6;
        }

        .product-card button:not(:disabled):hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(102, 126, 234, 0.6);
        }

        @media (max-width: 768px) {
            .search-filter-container {
                flex-direction: column;
            }
            
            .filter-select {
                width: 100%;
            }
        }
    </style>
</body>
</html>